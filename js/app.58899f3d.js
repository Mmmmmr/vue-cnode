(function(t){function e(e){for(var s,n,o=e[0],c=e[1],l=e[2],p=0,d=[];p<o.length;p++)n=o[p],r[n]&&d.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var s={},r={app:0},i=[];function n(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=s,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(a,s,function(e){return t[e]}.bind(null,s));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/vue-cnode/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("64a9"),r=a.n(s);r.a},2592:function(t,e,a){"use strict";var s=a("c05d"),r=a.n(s);r.a},"3e6a":function(t,e,a){},"47aa":function(t,e,a){"use strict";var s=a("60ee"),r=a.n(s);r.a},"4e0a":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("navbar"),a("router-view")],1)},i=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",[s("ul",[s("li",{class:{active:void 0===t.$route.params.tab}},[s("router-link",{attrs:{to:"/"}},[t._v("全部")])],1),s("li",{class:{active:"good"===t.$route.params.tab}},[s("router-link",{attrs:{to:{name:"category",params:{tab:"good"}}}},[t._v("精华")])],1),s("li",{class:{active:"share"===t.$route.params.tab}},[s("router-link",{attrs:{to:{name:"category",params:{tab:"share"}}}},[t._v("分享")])],1),s("li",[s("router-link",{attrs:{to:"/"}},[s("img",{attrs:{src:a("d686"),alt:"cnode logo"}})])],1),s("li",{class:{active:"ask"===this.$route.params.tab}},[s("router-link",{attrs:{to:{name:"category",params:{tab:"ask"}}}},[t._v("问答")])],1),s("li",{class:{active:"job"===t.$route.params.tab}},[s("router-link",{attrs:{to:{name:"category",params:{tab:"job"}}}},[t._v("招聘")])],1)]),s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg"}},[s("defs",[s("pattern",{attrs:{id:"irregularLine",x:"0",y:"0",width:"100%",height:"100%"}},[s("polygon",{attrs:{points:"1380,0 1000,20 845,12 630,19 467,12 288,8 105,17 0,5 0,0",fill:"#445b55"}})]),s("filter",{attrs:{id:"irregularLine-shadow"}},[s("feDropShadow",{attrs:{dx:"2",dy:"2",stdDeviation:"3"}})],1)]),s("rect",{staticStyle:{filter:"url(#irregularLine-shadow)"},attrs:{width:"100%",height:"2rem",fill:"url(#irregularLine)"}})])])},o=[],c={name:"navbar",data:function(){return{}}},l=c,u=(a("47aa"),a("2877")),p=Object(u["a"])(l,n,o,!1,null,"4d607078",null),d=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{attrs:{id:"postList"}},[a("pagination",{on:{"skip-to":t.pageBus}}),a("ul",t._l(t.postItems,function(t){return a("li",{key:t.id},[a("postItem",{attrs:{item:t}})],1)}),0)],1)},v=[],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"postItem"}},[a("div",{staticClass:"circles"},[a("svg",{attrs:{viewBox:"-5 -5 11 11",xmlns:"http://www.w3.org/2000/svg"}},[a("circle",{attrs:{cx:"5%",cy:"-40%",r:"20%",fill:"#e6ddd8"}}),a("circle",{attrs:{cx:"5%",cy:"50%",r:"20%",fill:"#e6ddd8"}})])]),a("div",{staticClass:"info-wrapper"},[a("div",{staticClass:"tags"},[a("span",{class:{top:t.item.top},attrs:{"v-show":t.item.top}},[t._v(t._s(t._f("topProcessor")(t.item.top)))]),a("span",{class:{good:t.item.good},attrs:{"v-show":t.item.good}},[t._v(t._s(t._f("goodProcessor")(t.item.good)))]),a("span",{class:{tab:t.item.tab},attrs:{"v-show":t.item.tab}},[t._v(t._s(t._f("tab-processor")(t.item.tab)))])]),a("div",{staticClass:"postInfo"},[a("div",{staticClass:"data-wrapper"},[a("span",[t._v(t._s(t.item.reply_count))]),t._v(" /\n        "),a("span",[t._v(t._s(t.item.visit_count))])]),a("div",{staticClass:"title"},[a("router-link",{attrs:{to:{name:"article-post",params:{articleId:t.item.id}}}},[a("div",[t._v(t._s(t.item.title))])])],1),a("div",{staticClass:"creator"},[a("router-link",{attrs:{to:{name:"userinfo",params:{userId:t.item.author.loginname}}}},[t._v(t._s(t.item.author.loginname))]),a("router-link",{attrs:{to:{name:"userinfo",params:{userId:t.item.author.loginname}}}},[a("img",{attrs:{src:t.item.author.avatar_url,alt:t.item.author.loginname}})])],1)]),a("div",{staticClass:"reply-wrapper"},[a("span",{staticClass:"text"},[t._v("最后回复：")]),t._v("\n      "+t._s(t._f("formatDate")(t.item.last_reply_at))+"\n    ")])])])},m=[],g={name:"postItem",props:["item"],data:function(){return{postItem:this.item}},filters:{topProcessor:function(t){return!0===t?"置顶":void 0},goodProcessor:function(t){if(!0===t)return"精华"}}},_=g,b=(a("2592"),Object(u["a"])(_,h,m,!1,null,"a2e95448",null)),w=b.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-wrapper"},[a("div",{staticClass:"pagination"},[a("button",{on:{click:function(e){return t.clickPage("first")}}},[t._v("首页")]),a("button",{on:{click:t.previous}},[t._v("上一页")]),-1===this.btns.indexOf(1)?a("button",[t._v("...")]):t._e(),t._l(t.btns,function(e){return a("button",{key:e,class:{curPage:e===t.currentPage},on:{click:function(a){return t.clickPage(e)}}},[t._v(t._s(e))])}),a("button",[t._v("...")]),a("button",{on:{click:t.next}},[t._v("下一页")])],2)])},k=[],C={name:"pagination",data:function(){return{btns:[1,2,3,4,5],currentPage:1}},computed:{},watch:{currentPage:function(){this.$emit("skip-to",this.currentPage)}},methods:{clickPage:function(t){console.log(t),this.currentPage=t,t===this.btns[this.btns.length-1]?(this.btns.shift(this.btns[0]),this.btns.push(this.btns[this.btns.length-1]+1)):t===this.btns[0]&&t>1?(this.btns.pop(this.btns[this.btns.length-1]-1),this.btns.unshift(this.btns[0]-1)):"first"===t&&(this.btns=[1,2,3,4,5],this.currentPage=1)},previous:function(){this.currentPage>1&&(this.currentPage-=1),this.currentPage===this.btns[0]&&this.clickPage(this.currentPage)},next:function(){this.currentPage+=1,this.currentPage===this.btns[this.btns.length-1]&&this.clickPage(this.currentPage)}}},I=C,x=(a("8b47"),Object(u["a"])(I,y,k,!1,null,"63c00efa",null)),P=x.exports,j={name:"postList",data:function(){return{postItems:[],skipToPage:1}},components:{postItem:w,pagination:P},watch:{$route:function(t,e){this.getData()}},methods:{getData:function(){var t=this;this.$axios.get("https://cnodejs.org/api/v1/topics",{params:{page:this.skipToPage,limit:20,tab:this.$route.params.tab}}).then(function(e){t.postItems=e.data.data,console.log(e.data.data)}).catch(function(t){console.error(t)})},pageBus:function(t){this.skipToPage=t,this.getData()}},beforeMount:function(){this.getData()}},D=j,T=(a("6b7d"),Object(u["a"])(D,f,v,!1,null,"4ecceaf4",null)),$=T.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{height:t.setHeight},attrs:{id:"userInfo-wrapper"}},[a("section",{staticClass:"ui-wrapper"},[a("div",{staticClass:"uiBasics"},[a("div",{staticClass:"ui-b-imgName"},[a("img",{attrs:{src:t.user.avatar_url,alt:t.user.loginname}}),a("span",[t._v(t._s(t.user.loginname))])]),a("div",{staticClass:"ui-b-txt"},[a("span",[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-github"}})]),t._v("\n          "+t._s(t.user.githubUsername)+"\n        ")]),a("span",[t._v("积分："+t._s(t.user.score))]),a("span",[t._v(t._s(t._f("signup")(t.user.create_at))+"注册")])]),a("div",{staticClass:"ui-b-ctr"},[a("div",{staticClass:"ui-b-ctr-createTopics",on:{click:t.topics}},[t._v("\n          最近创建的话题\n          "),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-arrowright"}})])]),a("div",{staticClass:"ui-b-ctr-replies",on:{click:t.replies}},[t._v("\n          最近参与的话题\n          "),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-arrowright"}})])])])]),a("transition",{attrs:{name:"ui-topics"}},[t.viewTopics?a("div",{staticClass:"ui-createTopics"},[a("div",{staticClass:"ui-crt-r-heading"},[t._v("最近创建的话题")]),a("div",{staticClass:"ui-createTopics-post"},[a("ul",{staticClass:"ui-createTopics-post-ul"},t._l(t.user.recent_topics,function(e){return a("li",{key:e.id},[a("router-link",{attrs:{to:{name:"article-post",params:{articleId:e.id}}}},[t._v(t._s(e.title))]),a("span",[t._v("最后回复："+t._s(t._f("signup")(e.last_reply_at)))])],1)}),0)])]):t._e()]),a("transition",{attrs:{name:"ui-replies"}},[t.viewReplies?a("div",{staticClass:"ui-replies"},[a("div",{staticClass:"ui-crt-r-heading"},[t._v("最近参与的话题")]),a("div",{staticClass:"ui-replies-post"},[a("ul",{staticClass:"ui-replies-post-ul"},t._l(t.user.recent_replies,function(e){return a("li",{key:e.id},[a("router-link",{attrs:{to:{name:"article-post",params:{articleId:e.id}}}},[t._v(t._s(e.title))]),a("span",[t._v("最后回复："+t._s(t._f("signup")(e.last_reply_at)))])],1)}),0)])]):t._e()])],1)])},L=[],E=(a("6b54"),{name:"userinfo",data:function(){return{user:{},viewTopics:!1,viewReplies:!1}},computed:{setHeight:function(){return(.75*window.innerHeight).toString()+"px"}},beforeCreate:function(){},beforeMount:function(){var t=this;this.$axios.get("https://cnodejs.org/api/v1/user/".concat(this.$route.params.userId)).then(function(e){t.user=e.data.data,console.log(e.data.data)}).catch(function(t){console.log(t)})},filters:{signup:function(t){if(!t)return"";var e=new Date(t),a=(new Date).getTime()-e.getTime();return a<0?"":a/1e3<30?"刚刚":a/1e3<60?parseInt(a/1e3)+"秒前":a/6e4<60?parseInt(a/6e4)+"分钟前":a/36e5<24?parseInt(a/36e5)+"小时前":a/864e5<31?parseInt(a/864e5)+"天前":a/2592e6<12?parseInt(a/2592e6)+"月前":parseInt(a/31536e6)+"年前"}},methods:{topics:function(){this.viewReplies=!1,this.viewTopics=!this.viewTopics},replies:function(){this.viewTopics=!1,this.viewReplies=!this.viewReplies}}}),M=E,B=(a("abd0"),Object(u["a"])(M,O,L,!1,null,"6fab97f4",null)),S=B.exports,H={name:"home",components:{navbar:d,postList:$,userinfo:S},beforeMount:function(){var t=window.innerWidth;t<700&&alert("Sorry,移动端还在开发中，请移步PC端查看")}},R=H,J=(a("034f"),Object(u["a"])(R,r,i,!1,null,null,null)),N=J.exports,q=a("8c4f"),U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{attrs:{id:"article-post"}},[a("router-link",{attrs:{to:"/"}},[a("button",{staticClass:"backButton"},[t._v("返回首页")])]),a("div",{staticClass:"header",attrs:{title:t.article.title}},[a("span",[t._v(t._s(t.article.title))])]),a("div",{staticClass:"createdTime"},[t._v("本文创建于："+t._s(t._f("formatDate")(t.article.create_at)))]),a("div",{staticClass:"articleInfo"},[a("div",{staticClass:"tabs"},[a("span",{class:{top:t.article.top},attrs:{"v-show":t.article.top}},[t._v(t._s(t._f("topProcessor")(t.article.top)))]),a("span",{class:{good:t.article.good},attrs:{"v-show":t.article.good}},[t._v(t._s(t._f("goodProcessor")(t.article.good)))]),a("span",{class:{tab:t.article.tab},attrs:{"v-show":t.article.tab}},[t._v(t._s(t._f("tab-processor")(t.article.tab)))])]),a("div",{staticClass:"authorInfo"},[a("router-link",{attrs:{to:{name:"userinfo",params:{userId:t.article.author.loginname}}}},[a("img",{attrs:{src:t.article.author.avatar_url,alt:t.article.author.loginname}})]),a("router-link",{attrs:{to:{name:"userinfo",params:{userId:t.article.author.loginname}}}},[a("span",[t._v(t._s(t.article.author.loginname))])])],1),a("div",{staticClass:"articleData"},[a("span",[t._v(t._s(t.article.reply_count))]),t._v(" /\n      "),a("span",[t._v(t._s(t.article.visit_count))]),a("span",[t._v("最后回复："+t._s(t._f("formatDate")(t.article.last_reply_at)))])])]),a("div",{staticClass:"articleBody markdown-body",domProps:{innerHTML:t._s(t.article.content)}}),a("replies",{attrs:{"reply-item":t.article.replies}})],1)},W=[],z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{attrs:{id:"replies-wrapper"}},[a("div",{attrs:{id:"replies"}},[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.moveleft}},[a("use",{attrs:{"xlink:href":"#icon-arrowleft"}})]),a("div",[a("ul",{staticClass:"replyList",attrs:{id:"replyListId"}},t._l(t.replyItem,function(e){return a("li",{key:e.id,on:{click:t.viewDetail}},[a("div",{staticClass:"replyItems",attrs:{"data-id":e.id}},[a("div",{staticClass:"pic"},[a("router-link",{attrs:{to:{name:"userinfo",params:{userId:e.author.loginname}}}},[a("img",{attrs:{src:e.author.avatar_url,alt:e.author.loginname}})]),a("router-link",{attrs:{to:{name:"userinfo",params:{userId:e.author.loginname}}}},[a("span",[t._v(t._s(e.author.loginname))])])],1),a("div",{staticClass:"reply-content"},[a("span",[t._v(t._s(t._f("formatDate")(e.create_at)))]),a("span",[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-thumbs-up"}})]),t._v("\n                "+t._s(e.ups.length)+"\n              ")])]),a("div",{staticClass:"content markdown-body",domProps:{innerHTML:t._s(e.content)}})])])}),0)]),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"},on:{click:t.moveright}},[a("use",{attrs:{"xlink:href":"#icon-arrowright"}})])]),a("transition",{attrs:{name:"slide"}},[t.detail?a("div",{staticClass:"replyDetail"},[a("div",{staticClass:"replyDetailBox"},[a("div",{staticClass:"replyBasics clearfix"},[a("router-link",{attrs:{to:{name:"userinfo",params:{userId:t.li.author.loginname}}}},[a("img",{attrs:{src:t.li.author.avatar_url,alt:t.li.author.loginname}})]),a("router-link",{attrs:{to:{name:"userinfo",params:{userId:t.li.author.loginname}}}},[a("span",[t._v(t._s(t.li.author.loginname))])]),a("span",[t._v(t._s(t._f("formatDate")(t.li.create_at)))]),a("span",[a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-thumbs-up"}})]),t._v("\n            "+t._s(t.li.ups.length)+"\n          ")])],1),a("div",{staticClass:"fullContent markdown-body",domProps:{innerHTML:t._s(t.li.content)}})])]):t._e()])],1)},A=[],F=(a("7514"),{name:"replies",data:function(){return{detail:!1,li:{}}},props:["reply-item"],methods:{moveleft:function(){document.getElementById("replyListId").scrollLeft-=500},moveright:function(){document.getElementById("replyListId").scrollLeft+=500},viewDetail:function(t){var e,a;if(this.detail=!1,t.path)e=t.composedPath().reverse().find(function(t){return"LI"===t.nodeName}),a=e.querySelector(".replyItems").dataset.id;else{var s=function(t){return t.parentElement},r=t.target;if(r.dataset.id)e=t.target;else{while(!r.dataset.id)r=s(r);e=r}a=e.dataset.id}var i=this.replyItem.find(function(t){return t.id===a});this.li=i,this.detail=!0}}}),G=F,K=(a("8e9f"),Object(u["a"])(G,z,A,!1,null,null,null)),Q=K.exports,V={name:"article-post",data:function(){return{article:[]}},components:{replies:Q},methods:{getData:function(){var t=this;this.$axios.get("https://cnodejs.org/api/v1/topic/".concat(this.$route.params.articleId)).then(function(e){t.article=e.data.data,console.log(e.data.data)}).catch(function(t){console.log(t)})}},beforeMount:function(){this.getData()},filters:{topProcessor:function(t){return!0===t?"置顶":void 0},goodProcessor:function(t){if(!0===t)return"精华"}}},X=V,Y=(a("892b"),Object(u["a"])(X,U,W,!1,null,null,null)),Z=Y.exports;s["a"].use(q["a"]);var tt=new q["a"]({routes:[{path:"/",name:"home",component:$},{path:"/tab=:tab",name:"category",component:$},{path:"/article/:articleId",name:"article-post",component:Z},{path:"/user/:userId",name:"userinfo",component:S}]}),et=a("bc3a"),at=a.n(et);a("1157");s["a"].config.productionTip=!1,s["a"].prototype.$axios=at.a,new s["a"]({router:tt,render:function(t){return t(N)}}).$mount("#app"),s["a"].filter("tab-processor",function(t){return"ask"===t?"问答":"share"===t?"分享":"job"===t?"招聘":"good"===t?"精华":""}),s["a"].filter("formatDate",function(t){if(!t)return"";var e=new Date(t),a=(new Date).getTime()-e.getTime();return a<0?"":a/1e3<30?"刚刚":a/1e3<60?parseInt(a/1e3)+"秒前":a/6e4<60?parseInt(a/6e4)+"分钟前":a/36e5<24?parseInt(a/36e5)+"小时前":a/864e5<31?parseInt(a/864e5)+"天前":a/2592e6<12?parseInt(a/2592e6)+"月前":parseInt(a/31536e6)+"年前"})},"60ee":function(t,e,a){},"64a9":function(t,e,a){},"6b7d":function(t,e,a){"use strict";var s=a("6d29"),r=a.n(s);r.a},"6d29":function(t,e,a){},"892b":function(t,e,a){"use strict";var s=a("fe1e"),r=a.n(s);r.a},"8b47":function(t,e,a){"use strict";var s=a("d1d7"),r=a.n(s);r.a},"8e9f":function(t,e,a){"use strict";var s=a("3e6a"),r=a.n(s);r.a},abd0:function(t,e,a){"use strict";var s=a("4e0a"),r=a.n(s);r.a},c05d:function(t,e,a){},d1d7:function(t,e,a){},d686:function(t,e,a){t.exports=a.p+"img/cnodejs_light.e2b40b75.svg"},fe1e:function(t,e,a){}});
//# sourceMappingURL=app.58899f3d.js.map